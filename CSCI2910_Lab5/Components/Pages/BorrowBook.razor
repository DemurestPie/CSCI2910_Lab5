@page "/borrow"
@using CSCI2910_Lab5.Models
@inject CSCI2910_Lab5.Services.LibraryService LibraryService

<h3>Borrow/Return Book</h3>

<!--User enters id and book title to borrow book-->
<div>
	<label for="userId">User ID:</label>
	<input type="number" @bind="userId" placeholder="Enter User ID" />
	<label for="bookTitle">Book Title:</label>
	<input type="text" @bind="bookTitle" placeholder="Enter Book Title" />

	<br />
	<br />

	<button @onclick="CheckoutBook">Borrow Book</button>
	<button @onclick="ReturnBook">Return Book</button>

</div>

@code {
	private int userId;
	private string bookTitle;

	private void CheckoutBook()
	{
		int bookId = LibraryService.GetBookIdByTitle(bookTitle);
		if (bookId != -1)
		{
			LibraryService.BorrowBook(bookId, userId);
		}
	}

	private void ReturnBook()
	{
		int bookId = LibraryService.GetBookIdByTitle(bookTitle);
		if (bookId != -1)
		{
			LibraryService.ReturnBook(bookId);
		}
	}


}
